<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>For Carina üíï</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #ffeef8 0%, #ffe0eb 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }

        .container {
            text-align: center;
            background: white;
            padding: 50px 35px;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(233, 30, 99, 0.2);
            max-width: 450px;
            width: 100%;
        }

        h1 {
            color: #e91e63;
            font-size: 2rem;
            margin-bottom: 3rem;
            font-weight: 700;
            line-height: 1.4;
        }

        .buttons-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            align-items: center;
            margin-top: 2rem;
            min-height: 70px;
            position: relative;
        }

        button {
            font-size: 1.25rem;
            padding: 18px 45px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            font-family: inherit;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            touch-action: manipulation;
            -webkit-user-select: none;
            user-select: none;
        }

        #yesBtn {
            background: linear-gradient(135deg, #ff6b9d 0%, #e91e63 100%);
            color: white;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        #yesBtn:active {
            transform: scale(0.95);
        }

        #noBtn {
            background: #f5f5f5;
            color: #666;
            position: fixed;
            transition: left 0.08s ease-out, top 0.08s ease-out;
            will-change: transform;
        }

        .success {
            display: none;
        }

        .success.show {
            display: block;
            animation: fadeIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: scale(0.8) translateY(20px); 
            }
            to { 
                opacity: 1; 
                transform: scale(1) translateY(0); 
            }
        }

        .success h2 {
            color: #e91e63;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .success img {
            max-width: 100%;
            width: 100%;
            max-width: 320px;
            border-radius: 20px;
            margin: 1.5rem auto;
            display: block;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .success p {
            font-size: 1.25rem;
            color: #333;
            line-height: 1.6;
        }

        @media (max-width: 450px) {
            .container {
                padding: 40px 25px;
            }

            h1 {
                font-size: 1.7rem;
                margin-bottom: 2.5rem;
            }
            
            button {
                font-size: 1.15rem;
                padding: 16px 40px;
            }
            
            .success h2 {
                font-size: 1.8rem;
            }

            .success p {
                font-size: 1.15rem;
            }
        }

        @media (max-width: 380px) {
            h1 {
                font-size: 1.5rem;
            }

            button {
                font-size: 1.05rem;
                padding: 15px 35px;
            }

            .success h2 {
                font-size: 1.6rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="question-screen">
            <h1>Carina, will you be my Valentine? üíï</h1>
            <div class="buttons-container">
                <button id="yesBtn">Yes</button>
                <button id="noBtn">No</button>
            </div>
        </div>

        <div class="success" id="success-screen">
            <h2>LET'S GOOOOO! üéâ</h2>
            <img src="https://media.tenor.com/pyNh01Knwa0AAAAM/shocked-black.gif" alt="Celebration">
            <p>I knew you'd say yes! ‚ù§Ô∏è<br>Can't wait to celebrate with you!</p>
        </div>
    </div>

    <script>
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const questionScreen = document.getElementById('question-screen');
        const successScreen = document.getElementById('success-screen');
        
        let lastMoveTime = 0;
        const moveThrottle = 50; // milliseconds

        // Position No button initially
        function initNoButton() {
            const yesRect = yesBtn.getBoundingClientRect();
            noBtn.style.left = (yesRect.right + 20) + 'px';
            noBtn.style.top = yesRect.top + 'px';
        }

        // Smooth escape function with throttling
        function escapeNoButton(clientX, clientY) {
            const now = Date.now();
            if (now - lastMoveTime < moveThrottle) return;
            lastMoveTime = now;

            const noRect = noBtn.getBoundingClientRect();
            const noCenterX = noRect.left + noRect.width / 2;
            const noCenterY = noRect.top + noRect.height / 2;
            
            const distance = Math.sqrt(
                Math.pow(clientX - noCenterX, 2) + 
                Math.pow(clientY - noCenterY, 2)
            );
            
            // Escape when within 120px
            if (distance < 120) {
                const angle = Math.atan2(noCenterY - clientY, noCenterX - clientX);
                const escapeDistance = 180;
                
                let newX = noCenterX + Math.cos(angle) * escapeDistance;
                let newY = noCenterY + Math.sin(angle) * escapeDistance;
                
                // Better boundary handling - add randomness near edges
                const margin = 100;
                const btnWidth = noRect.width;
                const btnHeight = noRect.height;
                
                if (newX < margin || newX > window.innerWidth - margin) {
                    newX = margin + Math.random() * (window.innerWidth - 2 * margin);
                }
                if (newY < margin || newY > window.innerHeight - margin) {
                    newY = margin + Math.random() * (window.innerHeight - 2 * margin);
                }
                
                // Final boundary check
                newX = Math.max(margin, Math.min(window.innerWidth - margin, newX));
                newY = Math.max(margin, Math.min(window.innerHeight - margin, newY));
                
                noBtn.style.left = (newX - btnWidth / 2) + 'px';
                noBtn.style.top = (newY - btnHeight / 2) + 'px';
            }
        }

        // Initialize after load
        window.addEventListener('load', () => {
            setTimeout(initNoButton, 100);
        });

        // Mouse tracking
        let mouseMoveHandler = (e) => {
            escapeNoButton(e.clientX, e.clientY);
        };

        // Touch tracking
        let touchMoveHandler = (e) => {
            if (e.touches.length > 0) {
                escapeNoButton(e.touches[0].clientX, e.touches[0].clientY);
            }
        };

        document.addEventListener('mousemove', mouseMoveHandler);
        document.addEventListener('touchmove', touchMoveHandler, { passive: true });

        // No button messages
        const noMessages = [
            'No',
            'Are you sure?',
            'Are you really sure??',
            'I don\'t think this is the right button',
            'I think you\'re looking for the yes button',
            'Nope try again',
            'Nope',
            'Still not this one',
            'QUE ESTE NO ES',
            'Ok you really want to press this one',
            'Well',
            'Enserio?',
            'Nope this isn\'t the one'
        ];
        let messageIndex = 0;
        
        noBtn.addEventListener('click', (e) => {
            e.preventDefault();
            noBtn.textContent = noMessages[messageIndex % noMessages.length];
            messageIndex++;
            escapeNoButton(e.clientX || e.touches[0].clientX, e.clientY || e.touches[0].clientY);
        });

        // Yes button
        yesBtn.addEventListener('click', () => {
            // Remove event listeners for performance
            document.removeEventListener('mousemove', mouseMoveHandler);
            document.removeEventListener('touchmove', touchMoveHandler);
            
            questionScreen.style.display = 'none';
            successScreen.classList.add('show');
        });
    </script>
</body>
</html>
